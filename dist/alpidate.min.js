var alpidate=(()=>{var w=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var V=(i,e)=>{for(var t in e)w(i,t,{get:e[t],enumerable:!0})},W=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of A(e))!E.call(i,s)&&s!==t&&w(i,s,{get:()=>e[s],enumerable:!(r=j(e,s))||r.enumerable});return i};var q=i=>W(w({},"__esModule",{value:!0}),i);var y={};V(y,{default:()=>v});function x(i,e,t){let r={$invalid:!1};return e.forEach(s=>{let[c,l]=s.split(":"),n=!1;switch(c){case"required":n=i===null||i===""||i===void 0||Array.isArray(i)&&i.length===0;break;case"requiredIf":let[$,h]=l.split(",");""+t[$]===h&&(n=i===null||i===""||i===void 0);break;case"array":n=!Array.isArray(i);break;case"min":(typeof i=="string"||Array.isArray(i))&&(n=i.length<Number(l));break;case"max":(typeof i=="string"||Array.isArray(i))&&(n=i.length>Number(l));break;case"numeric":n=isNaN(i);break;case"email":n=!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(i);break;case"regex":try{let p=l?new RegExp(l):null;n=p?!p.test(i):!0}catch{n=!0}break}r[c]=n,n&&(r.$invalid=!0)}),r}function N(i,e){let t={};for(let r in e)if(r.includes("*")){let c=r.split(".")[0];(i[c]||[]).forEach((n,$)=>{let h=r.replace("*",$);t[h]=e[r]})}else t[r]=e[r];return t}function R(i,e,t){let r=N(i,e);for(let s in r)i[t].validate(s),i.$watch(s,()=>i[t].validate(s));return i}function O(i){i.magic("validation",()=>(e,t=null)=>{t||(t="$v"),e[t]={},e[t].$touch=!1,e[t].$invalid=!0;let r=JSON.parse(JSON.stringify(e.validations));e[t].validate=(s=null)=>{let c=N(e,r),l=s?[s]:Object.keys(c);s||(e[t].$touch=!0),l.forEach(n=>{let $=c[n],h=n.split("."),f=e[t],u=e;h.forEach((o,a)=>{if(!isNaN(Number(o))){u=u[o];return}f[o]||(f[o]={$invalid:!1}),f=f[o],u=u[o]??u[o]}),Object.assign(f,x(u,$,e)),Array.isArray(u)&&Object.keys(r).find(a=>a.includes("*")&&a.startsWith(h[0]))&&(f.each=u.map((a,m)=>{let b={};return Object.keys(r).filter(d=>d.startsWith(h[0]+".*")).map(d=>({fieldName:d.split(".").slice(-1)[0],rules:r[d]})).forEach(d=>{b[d.fieldName]=x(a[d.fieldName],d.rules,e)}),b}),f.$invalid=f.each.some(a=>Object.values(a).some(m=>m.$invalid)));let p=n.split(".");if(p.length>1){let o=e[t];for(let a=0;a<p.length-1;a++){let m=p[a];if(!o[m])continue;let b=o[m];b.$invalid=Object.values(b).filter(g=>typeof g=="object"&&g!==null).some(g=>g.$invalid),o=b}}})},e[t].reset=()=>e[t].$touch=!1,e=R(e,r,t),e.$watch(t,()=>{e[t].$invalid=Object.keys(e[t]).some(s=>{if(s.startsWith("$"))return!1;let c=e[t][s];return c.$invalid?!0:c.each?c.each.some(l=>Object.values(l).some(n=>n.$invalid)):!1})}),Object.entries(r).forEach(([s,c])=>{c.forEach(l=>{if(l.startsWith("requiredIf:")){let n=l.split(":")[1].split(",")[0];e.$watch(n,()=>{e[t].validate(s)})}})})})}(function(){let e=typeof window<"u"?window:typeof global<"u"?global:this;e&&!e.alpidate&&(e.alpidate=O)})();var v=O;return q(y);})();
