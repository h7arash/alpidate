var alpidate=(()=>{var x=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var E=(r,e)=>{for(var i in e)x(r,i,{get:e[i],enumerable:!0})},V=(r,e,i,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of j(e))!A.call(r,s)&&s!==i&&x(r,s,{get:()=>e[s],enumerable:!(t=O(e,s))||t.enumerable});return r};var W=r=>V(x({},"__esModule",{value:!0}),r);var v={};E(v,{default:()=>R});function w(r,e,i){let t={$invalid:!1};return e.forEach(s=>{let[c,l]=s.split(":"),n=!1;switch(c){case"required":n=r===null||r===""||r===void 0||Array.isArray(r)&&r.length===0;break;case"requiredIf":let[$,d]=l.split(",");""+i[$]===d&&(n=r===null||r===""||r===void 0);break;case"array":n=!Array.isArray(r);break;case"min":(typeof r=="string"||Array.isArray(r))&&(n=r.length<Number(l));break;case"max":(typeof r=="string"||Array.isArray(r))&&(n=r.length>Number(l));break;case"numeric":n=isNaN(r);break;case"email":n=!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(r);break;case"regex":try{let p=l?new RegExp(l):null;n=p?!p.test(r):!0}catch{n=!0}break}t[c]=n,n&&(t.$invalid=!0)}),t}function N(r,e){let i={};for(let t in e)if(t.includes("*")){let c=t.split(".")[0];(r[c]||[]).forEach((n,$)=>{let d=t.replace("*",$);i[d]=e[t]})}else i[t]=e[t];return i}function q(r,e,i){let t=N(r,e);for(let s in t)r[i].validate(s),r.$watch(s,()=>r[i].validate(s));return r}function R(r){r.magic("validation",()=>(e,i=null)=>{i||(i="$v"),e[i]={},e[i].$touch=!1,e[i].$invalid=!0;let t=JSON.parse(JSON.stringify(e.validations));e[i].validate=(s=null)=>{let c=N(e,t),l=s?[s]:Object.keys(c);s||(e[i].$touch=!0),l.forEach(n=>{let $=c[n],d=n.split("."),f=e[i],u=e;d.forEach((a,o)=>{if(!isNaN(Number(a))){u=u[a];return}f[a]||(f[a]={$invalid:!1}),f=f[a],u=u[a]??u[a]}),Object.assign(f,w(u,$,e)),Array.isArray(u)&&Object.keys(t).find(o=>o.includes("*")&&o.startsWith(d[0]))&&(f.each=u.map((o,m)=>{let b={};return Object.keys(t).filter(h=>h.startsWith(d[0]+".*")).map(h=>({fieldName:h.split(".").slice(-1)[0],rules:t[h]})).forEach(h=>{b[h.fieldName]=w(o[h.fieldName],h.rules,e)}),b}),f.$invalid=f.each.some(o=>Object.values(o).some(m=>m.$invalid)));let p=n.split(".");if(p.length>1){let a=e[i];for(let o=0;o<p.length-1;o++){let m=p[o];if(!a[m])continue;let b=a[m];b.$invalid=Object.values(b).filter(g=>typeof g=="object"&&g!==null).some(g=>g.$invalid),a=b}}})},e[i].reset=()=>e[i].$touch=!1,e=q(e,t,i),e.$watch(i,()=>{e[i].$invalid=Object.keys(e[i]).some(s=>{if(s.startsWith("$"))return!1;let c=e[i][s];return c.$invalid?!0:c.each?c.each.some(l=>Object.values(l).some(n=>n.$invalid)):!1})}),Object.entries(t).forEach(([s,c])=>{c.forEach(l=>{if(l.startsWith("requiredIf:")){let n=l.split(":")[1].split(",")[0];e.$watch(n,()=>{e[i].validate(s)})}})})})}return W(v);})();
